"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[468],{468:function(e,t,r){r.r(t),r.d(t,{default:function(){return b}});var n=r(142);function c(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i=r(433),u=r(439),s=r(689),l=r(87),f=r(791),h="MoviesPage_filmsLink__dlHtL",p=r(184),d=(0,f.lazy)((function(){return r.e(374).then(r.bind(r,562))})),b=function(){var e,t=(0,s.TH)(),r=(0,s.s0)(),n=null!==(e=new URLSearchParams(t.search).get("query"))&&void 0!==e?e:"",c=(0,f.useState)(n),a=(0,u.Z)(c,2),b=a[0],j=a[1],v=(0,f.useState)([]),m=(0,u.Z)(v,2),g=m[0],O=m[1];(0,f.useEffect)((function(){b&&fetch("".concat("https://api.themoviedb.org/3","/search/movie?api_key=").concat("1a27ac166727ac0de96a34161208f474","&query=").concat(b,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Movies not found. Please enter a valid value"))})).then((function(e){return 0===e.results.length?Promise.reject(new Error("Movies not found. Please enter a valid value")):O((0,i.Z)(e.results.map((function(e){return{id:e.id,title:e.title}}))))})).catch((function(e){return y(e)}))}),[b]);var y=function(e){O([]),alert(e.message)},w=function(e){var n={query:e.toLowerCase()};r(o(o({},t),{},{search:(0,l.fW)(n).toString()}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.Suspense,{fallback:(0,p.jsx)("div",{children:"Loading..."}),children:(0,p.jsx)(d,{onSubmit:function(e){j(e),w(e)}})}),0!==g.length&&(0,p.jsx)("ul",{children:g.map((function(e){var r=e.id,n=e.title;return(0,p.jsx)("li",{children:(0,p.jsx)(l.rU,{className:h,state:{from:{location:t}},to:"".concat(r),children:n})},r)}))})]})}}}]);
//# sourceMappingURL=468.0a237699.chunk.js.map